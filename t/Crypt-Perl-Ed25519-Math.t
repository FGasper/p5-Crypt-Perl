package t::Crypt::Perl::Ed25519::Math;

use Test::More tests => 1;
use Test::FailWarnings;
use Test::Deep;

use Crypt::Perl::ED25519::Math;

#----------------------------------------------------------------------

my @reduce_in = ( 254, 229, 34, 65, 201, 64, 241, 213, 32, 163, 195, 81, 123, 234, 141, 189, 210, 236, 177, 64, 95, 199, 172, 37, 4, 41, 96, 123, 26, 57, 144, 253, 5, 255, 233, 205, 158, 45, 35, 191, 225, 100, 129, 89, 204, 181, 144, 225, 139, 87, 78, 220, 155, 126, 105, 238, 110, 30, 244, 141, 223, 44, 254, 241 );

Crypt::Perl::ED25519::Math::reduce( my $reduce_out = [ @reduce_in ] );

cmp_deeply(
    $reduce_out,
    [ 217, 154, 174, 181, 125, 49, 173, 237, 9, 219, 122, 129, 34, 223, 236, 24, 52, 69, 107, 107, 124, 24, 93, 190, 52, 34, 26, 26, 31, 32, 192, 13, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
    'reduce()',
) or diag explain "@$reduce_out";

done_testing();
